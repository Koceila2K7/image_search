"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[671],{9881:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>m});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:1},s="Utilisation",o={unversionedId:"intro",id:"intro",title:"Utilisation",description:"Comment installer",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/image_search/docs/intro",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar"},l={},m=[{value:"Comment installer",id:"comment-installer",level:2},{value:"Comment utiliser",id:"comment-utiliser",level:2}],u={toc:m},c="wrapper";function p(e){let{components:t,...r}=e;return(0,i.kt)(c,(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"utilisation"},"Utilisation"),(0,i.kt)("h2",{id:"comment-installer"},"Comment installer"),(0,i.kt)("p",null,"Vous devriez avoir docker d\xe9ja install\xe9 sur votre machine."),(0,i.kt)("p",null,"Vous pouvez retrouver de nombreux tutos sur comment installer docker sur votre machine"),(0,i.kt)("h2",{id:"comment-utiliser"},"Comment utiliser"),(0,i.kt)("p",null,'Dans votre r\xe9pertoire de travail, cr\xe9ez un dossier "images", et fichier "docker-compose.yml"'),(0,i.kt)("p",null,"Collez le contenu suivant dans le fichier docker-compose.yml"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="docker-compose.yml"',title:'"docker-compose.yml"'},"---\nversion: '3.4'\nservices:\n  weaviate:\n    command:\n    - --host\n    - 0.0.0.0\n    - --port\n    - '8080'\n    - --scheme\n    - http\n    image: semitechnologies/weaviate:1.19.6\n    ports:\n    - 8080:8080\n    restart: always\n    environment:\n      IMAGE_INFERENCE_API: 'http://i2v-neural:8080'\n      QUERY_DEFAULTS_LIMIT: 25\n      AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED: 'true'\n      PERSISTENCE_DATA_PATH: '/var/lib/weaviate'\n      DEFAULT_VECTORIZER_MODULE: 'img2vec-neural'\n      ENABLE_MODULES: 'img2vec-neural'\n      CLUSTER_HOSTNAME: 'node1'\n  i2v-neural:\n    image: semitechnologies/img2vec-pytorch:resnet50\n    restart: always\n    environment:\n      ENABLE_CUDA: '0'\n  image_server:\n    image: koceila2k7/server_image_search\n    volumes:\n      - ./images:/app/img\n    ports:\n      - 3030:3030\n      - 3040:3040\n    restart: always\n  image_client:\n    image: koceila2k7/image_search_client\n    ports:\n      - 3456:80\n    restart: always\n...\n")),(0,i.kt)("p",null,"dans le m\xeame r\xe9pertoire de travail lancez la commande suivante :"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"docker compose up -d\n")),(0,i.kt)("p",null,"(Pour le premier lancement, cette \xe9tape peut prendre un certain temps)"),(0,i.kt)("p",null,"Maintenant dans votre navigateur vous pouvez aller sur l'url http://localhost:3456"),(0,i.kt)("p",null,"Vous devriez avoir ceci : "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"visualisation",src:n(8662).Z,width:"1644",height:"891"})),(0,i.kt)("p",null,'D\xe9placez vos images dans le r\xe9pertoire "images" que vous avez cr\xe9\xe9 et cliquez sur ',(0,i.kt)("code",null,'"Indexation/R\xe9indexation"'),"."),(0,i.kt)("p",null,"Attendez quelques instants (selon le nombre et la taille des images)"),(0,i.kt)("p",null,"Faites glisser une image dans le petit carr\xe9, ajustez le degr\xe9 de certitude et admirez les r\xe9sultats"),(0,i.kt)("p",null,"voici un exemple : "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"visualisation",src:n(694).Z,width:"1479",height:"875"})),(0,i.kt)("admonition",{title:"Astuce",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},'Si vous voulez r\xe9indexer d\'autres images, supprimez du r\xe9pertoire "images" les images d\xe9ja index\xe9es.')),(0,i.kt)("admonition",{title:"Astuce",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Pour stopper d\xe9finitivement lancez la commande suivante dans le r\xe9pertoire de travail"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-bash",metastring:"*","*":!0},"docker compose rm --all \n"))),(0,i.kt)("admonition",{title:"Astuce",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Si vous voulez le lancer dans un autre r\xe9pertoire de travail vous dervriez stopper toutes les instances d\xe9ja lanc\xe9es, comme indiqu\xe9 plus haut")))}p.isMDXComponent=!0},8662:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/img1-7c323fffc795e1341d1acf36f6528db9.png"},694:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/img2-e7734e12b0293913b7202874d6a553e9.png"}}]);